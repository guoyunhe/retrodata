"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[72],{4034:(e,t,n)=>{var a=n(7294),r=n(3935),l=n(9711),o=n(6974),i=n(1983),c=n(9226),u=n(3321),m=n(5071),s=n(8456),d=n(480),p=n(122),v=n(6447),E=n(492),g=n(3626),f=n(6793),h=n(6242),Z=n(4267),b=n(7948);function y(e){var t=e.children;return a.createElement(c.Z,{sx:{backgroundImage:"url(/img/raychel-sanner-YP2MNNId-Qs-unsplash.jpg)",backgroundSize:"cover",height:"calc(100vh - 48px)",display:"flex",justifyContent:"center",alignItems:"center"}},a.createElement(b.Z,{maxWidth:"xs"},a.createElement(h.Z,{sx:{backgroundColor:"#ffffff88",backdropFilter:"blur(20px)"}},a.createElement(Z.Z,null,t))))}var x=(0,g.Z)({buttonRow:{display:"flex",alignItems:"center",justifyContent:"space-between"}});function k(){var e,t,n,r=x(),g=(0,i.aC)(),h=g.user,Z=g.setUser,b=(0,f.$)().t,k=(0,a.useState)(!1),w=k[0],C=k[1],S=(0,a.useState)(""),I=S[0],U=S[1],P=(0,a.useState)(""),W=P[0],N=P[1],A=(0,a.useState)(!1),T=A[0],j=A[1],F=(0,a.useState)(null),O=F[0],z=F[1];return h?a.createElement(o.Fg,{to:"/"}):a.createElement(y,null,a.createElement("form",{method:"POST",action:"/login",onSubmit:function(e){e.preventDefault(),C(!0),(0,i.x4)(I,W,T).then((function(){return(0,i.BT)()})).then((function(e){C(!1),Z(e.data)})).catch((function(e){C(!1),z(e.response.data)}))}},a.createElement(v.Z,{spacing:2},a.createElement(E.Z,{label:b("email"),name:"email",fullWidth:!0,required:!0,type:"email",value:I,onChange:function(e){return U(e.target.value)},error:!!(null===(e=null==O?void 0:O.errors)||void 0===e?void 0:e.email),helperText:null===(n=null===(t=null==O?void 0:O.errors)||void 0===t?void 0:t.email)||void 0===n?void 0:n.join(" ")}),a.createElement(E.Z,{label:b("password"),name:"password",fullWidth:!0,required:!0,type:"password",value:W,onChange:function(e){return N(e.target.value)}}),a.createElement(d.Z,{control:a.createElement(m.Z,{name:"remember",checked:T,onChange:function(){return j(!T)}}),label:b("remember-me").toString()}),a.createElement(c.Z,{className:r.buttonRow},a.createElement(u.Z,{type:"submit",variant:"contained",color:"primary",endIcon:w&&a.createElement(s.Z,{size:24}),disabled:w},b("login")),a.createElement(p.Z,{component:l.rU,to:"/password/reset"},b("forgot-password"))))))}var w=n(7485);function C(){var e,t,n,r,c,m,d,g,h,Z,b,x,k=(0,i.aC)(),C=k.user,S=k.setUser,I=(0,f.$)().t,U=(0,a.useState)(!1),P=U[0],W=U[1],N=(0,a.useState)(""),A=N[0],T=N[1],j=(0,a.useState)(""),F=j[0],O=j[1],z=(0,a.useState)(""),R=z[0],_=z[1],B=(0,a.useState)(""),L=B[0],D=B[1],$=(0,a.useState)(null),q=$[0],M=$[1];return C?a.createElement(o.Fg,{to:"/"}):a.createElement(y,null,a.createElement("form",{method:"POST",action:"/register",onSubmit:function(e){e.preventDefault(),W(!0),(0,i.z2)(A,F,R,L,"academy").then((function(){return(0,i.BT)()})).then((function(e){W(!1),S(e.data)})).catch((function(e){W(!1),M(e.response.data)}))}},a.createElement(v.Z,{spacing:2},a.createElement(E.Z,{label:I("name"),name:"name",fullWidth:!0,required:!0,type:"string",value:A,onChange:function(e){return T(e.target.value)},error:!!(null===(e=null==q?void 0:q.errors)||void 0===e?void 0:e.name),helperText:null===(n=null===(t=null==q?void 0:q.errors)||void 0===t?void 0:t.name)||void 0===n?void 0:n.join(" ")}),a.createElement(E.Z,{label:I("email"),name:"email",fullWidth:!0,required:!0,type:"email",value:F,onChange:function(e){return O(e.target.value)},error:!!(null===(r=null==q?void 0:q.errors)||void 0===r?void 0:r.email),helperText:null===(m=null===(c=null==q?void 0:q.errors)||void 0===c?void 0:c.email)||void 0===m?void 0:m.join(" ")}),a.createElement(E.Z,{label:I("password"),name:"password",fullWidth:!0,required:!0,type:"password",value:R,onChange:function(e){return _(e.target.value)},error:!!(null===(d=null==q?void 0:q.errors)||void 0===d?void 0:d.password),helperText:null===(h=null===(g=null==q?void 0:q.errors)||void 0===g?void 0:g.password)||void 0===h?void 0:h.join(" ")}),a.createElement(E.Z,{label:I("confirm-password"),name:"password_confirmation",fullWidth:!0,required:!0,type:"password",value:L,onChange:function(e){return D(e.target.value)},error:!!(null===(Z=null==q?void 0:q.errors)||void 0===Z?void 0:Z.password_confirmation),helperText:null===(x=null===(b=null==q?void 0:q.errors)||void 0===b?void 0:b.password_confirmation)||void 0===x?void 0:x.join(" ")}),a.createElement(u.Z,{type:"submit",variant:"contained",color:"primary",endIcon:P&&a.createElement(s.Z,{size:24}),disabled:P},I("register")),a.createElement("div",null,a.createElement(w.c,{i18nKey:"register-agree"},"By joining, you agree to the"," ",a.createElement(p.Z,{component:l.rU,to:"/terms"},"Terms")," ","and"," ",a.createElement(p.Z,{component:l.rU,to:"/privacy"},"Privacy Policy"))))))}var S=n(1737),I=n(5861);function U(){var e=(0,i.aC)().user,t=(0,a.useState)(!1),n=t[0],r=t[1],m=(0,a.useState)(null),d=m[0],p=m[1];return(null==e?void 0:e.email_verified_at)?a.createElement(o.Fg,{to:"/"}):a.createElement(y,null,a.createElement(c.Z,{my:3},a.createElement(I.Z,{variant:"body1"},"A verification email has been sent to your email address. Please check your inbox (and spam folder).")),a.createElement(c.Z,{my:3},a.createElement(I.Z,{variant:"body1"},"If you didn't receive the email in 5 minutes, click the button below:")),a.createElement(c.Z,{my:3},a.createElement(u.Z,{variant:"contained",color:"primary",endIcon:n&&a.createElement(s.Z,{size:24}),disabled:n,onClick:function(e){e.preventDefault(),r(!0),p(null),(0,i.WC)().then((function(){r(!1),p(!0)})).catch((function(){r(!1),p(!1)}))}},"Resend Verification Email"),a.createElement(u.Z,{component:l.rU,to:"/",sx:{ml:1}},"Skip")),"boolean"==typeof d&&(d?a.createElement(S.Z,{variant:"filled",severity:"success"},"Verification email was sent successfully!"):a.createElement(S.Z,{variant:"filled",severity:"error"},"Failed to send verification email. Please check your network and try again later.")))}var P=n(6189),W=n(9669),N=n.n(W);var A=n(6886),T=n(3965),j=n(87),F=n(8800),O=n(8972),z=[{value:"en",label:"English"},{value:"zh",label:"中文"}];function R(){var e=(0,f.$)().i18n,t=a.useState(null),n=t[0],r=t[1],l=Boolean(n),o=z.find((function(t){return e.language===t.value}));return a.createElement(a.Fragment,null,a.createElement(u.Z,{id:"lang-menu-button","aria-controls":"lang-menu","aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){r(e.currentTarget)},startIcon:a.createElement(j.Z,null),color:"inherit"},null==o?void 0:o.label),a.createElement(F.Z,{id:"lang-menu",anchorEl:n,open:l,onClose:function(){r(null)},MenuListProps:{"aria-labelledby":"lang-menu-button"}},z.map((function(t){return a.createElement(O.Z,{key:t.value,onClick:function(){localStorage.setItem("language",t.value),e.changeLanguage(t.value),N().defaults.headers.common["X-Language"]=t.value,r(null)},selected:t.value===(null==o?void 0:o.value)},t.label)}))))}function _(e){var t=e.data,n=e.attr,r=(0,f.$)().i18n.language,l=t["zh"===r?n:n+"_"+r],o=t[n+"_en"];return l?a.createElement("span",null,l):a.createElement("span",null,o)}function B(e){var t,n=e.laboratory;return a.createElement(h.Z,{sx:{display:"flex",height:"150px"},component:l.rU,to:"/laboratories/"+n.id,color:"primary"},a.createElement(T.Z,{component:"img",height:"150px",width:"150px",image:(null===(t=n.logo)||void 0===t?void 0:t.url)||"/img/raychel-sanner-YP2MNNId-Qs-unsplash.jpg",alt:"laboratory logo",sx:{flex:"0 0 150px"}}),a.createElement(Z.Z,null,a.createElement(I.Z,{variant:"h5"},a.createElement(_,{data:n,attr:"name"})),a.createElement(I.Z,{variant:"subtitle1",color:"text.secondary"},a.createElement(_,{data:n.college,attr:"name"}))))}function L(e){var t=e.laboratories;return a.createElement(A.ZP,{container:!0,spacing:4},t.map((function(e){return a.createElement(A.ZP,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},a.createElement(B,{laboratory:e}))})))}function D(){(0,f.$)().t;var e=(0,a.useState)(!1),t=(e[0],e[1],(0,a.useState)([])),n=t[0],r=t[1],l=function(){var e;(e={university_id:window.university.id,with_college:!0},N().get("/api/laboratories",{params:e})).then((function(e){r(e.data)}))};return(0,a.useEffect)((function(){l()}),[]),a.createElement(c.Z,{sx:{background:P.Z[100],p:3}},a.createElement(L,{laboratories:n}))}for(var $=n(1733),q=n(7957),M=n(5398),H=n(9661),Y=n(3946),V=n(8462),X=n(7212),K=n(8987),Q=n(8619),G=n(8885),J=n(9334),ee=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,l=t.length;r<l;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},te=[],ne=0;ne<20;ne++)te.push({name:"测试成员"+(ne+1),name_en:"Test Member "+(ne+1),desc:"一些测试描述内容...",desc_en:"Some testing description content..."});function ae(){var e=a.useState([0]),t=e[0],n=e[1],r=function(e){return function(){var a=t.indexOf(e),r=ee([],t,!0);-1===a?r.push(e):r.splice(a,1),n(r)}};return a.createElement("div",null,a.createElement(V.Z,null,te.map((function(e,n){return a.createElement(X.ZP,{key:e.name,secondaryAction:a.createElement(c.Z,{display:"flex",gap:3,sx:{pr:3}},a.createElement(Y.Z,{edge:"end","aria-label":"edit"},a.createElement(q.Z,null)),a.createElement(Y.Z,{edge:"end","aria-label":"delete"},a.createElement($.Z,null))),disablePadding:!0},a.createElement(Q.Z,{role:void 0,onClick:r(n),dense:!0},a.createElement(G.Z,null,a.createElement(m.Z,{edge:"start",checked:-1!==t.indexOf(n),tabIndex:-1,disableRipple:!0})),a.createElement(K.Z,null,a.createElement(H.Z,null,a.createElement(M.Z,null))),a.createElement(J.Z,{primary:a.createElement(_,{data:e,attr:"name"}),secondary:a.createElement(_,{data:e,attr:"desc"})})))}))))}var re=n(44),le=n(1703);function oe(){var e=(0,o.TH)().pathname,t=(0,f.$)().t,n=e.split("/").slice(0,3).join("/"),r=e.split("/")[3]||"reagent";return a.createElement(le.Z,{value:r,"aria-label":"laboratory nav tabs"},a.createElement(re.Z,{component:l.OL,label:t("reagent"),to:n,value:"reagent"}),a.createElement(re.Z,{component:l.OL,label:t("members"),to:n+"/members",value:"members"}),a.createElement(re.Z,{component:l.OL,label:t("settings"),to:n+"/settings",value:"settings"}))}function ie(){var e,t=(0,o.UO)().laboratoryId,n=(0,a.useState)(),r=n[0],l=n[1];return(0,a.useEffect)((function(){var e;t&&(e=t,N().get("/api/laboratories/"+e)).then((function(e){l(e.data)}))}),[t]),r?a.createElement(i.Yg,null,a.createElement("div",null,a.createElement(c.Z,{component:"header",sx:{background:P.Z[50]}},a.createElement(I.Z,{variant:"h3",sx:{display:"flex",alignItems:"center",p:3}},a.createElement(H.Z,{src:(null===(e=r.logo)||void 0===e?void 0:e.url)||"/img/default-laboratory-logo.svg",sx:{width:48,height:48}}),a.createElement(_,{data:r,attr:"name"})),a.createElement(oe,null)),a.createElement(o.j3,null))):a.createElement(s.Z,null)}for(var ce=n(5943),ue=n(5500),me=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,l=t.length;r<l;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},se=[],de=0;de<20;de++)se.push({name:"测试试剂"+(de+1),name_en:"Test reagent "+(de+1),desc:"一些测试描述内容...",desc_en:"Some testing description content..."});function pe(){var e=a.useState([0]),t=e[0],n=e[1],r=function(e){return function(){var a=t.indexOf(e),r=me([],t,!0);-1===a?r.push(e):r.splice(a,1),n(r)}};return a.createElement("div",null,a.createElement(V.Z,null,se.map((function(e,n){return a.createElement(X.ZP,{key:e.name,secondaryAction:a.createElement(c.Z,{display:"flex",gap:3,sx:{pr:3}},a.createElement(Y.Z,{edge:"end","aria-label":"purchase"},a.createElement(ue.Z,null)),a.createElement(Y.Z,{edge:"end","aria-label":"edit"},a.createElement(q.Z,null)),a.createElement(Y.Z,{edge:"end","aria-label":"delete"},a.createElement($.Z,null))),disablePadding:!0},a.createElement(Q.Z,{role:void 0,onClick:r(n),dense:!0},a.createElement(G.Z,null,a.createElement(m.Z,{edge:"start",checked:-1!==t.indexOf(n),tabIndex:-1,disableRipple:!0})),a.createElement(K.Z,null,a.createElement(H.Z,null,a.createElement(ce.Z,null))),a.createElement(J.Z,{primary:a.createElement(_,{data:e,attr:"name"}),secondary:a.createElement(_,{data:e,attr:"desc"})})))}))))}function ve(){return a.createElement("div",null,"设置")}var Ee=n(6720),ge=n(8452),fe=n(8377),he=n(2272),Ze=n(7036);function be(){var e=(0,f.$)().t;return a.createElement(c.Z,{display:"flex",gap:2,justifyContent:"center",py:3,sx:{background:Ze.Z[100]}},a.createElement("span",null,"© ",(new Date).getFullYear()," ",a.createElement(_,{data:window.university,attr:"name"})),a.createElement(p.Z,{component:l.rU,to:"/about"},e("about")),a.createElement(p.Z,{component:l.rU,to:"/privacy"},e("privacy")),a.createElement(p.Z,{component:l.rU,to:"/terms"},e("terms")))}var ye=n(326),xe=n(7976),ke=n(2293),we=n(7720),Ce=n(155),Se=n(3327);function Ie(){var e,t=(0,i.aC)(),n=t.user,r=t.setUser,o=(0,f.$)().t,c=a.useState(null),m=c[0],s=c[1],d=function(){s(null)};return n?a.createElement(a.Fragment,null,a.createElement(Y.Z,{color:"inherit","aria-controls":"auth-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},sx:{p:0,ml:1}},a.createElement(H.Z,{src:null===(e=n.avatar)||void 0===e?void 0:e.url})),a.createElement(F.Z,{id:"auth-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:d},a.createElement(O.Z,{key:"profile",onClick:d,component:l.rU,to:"/users/"+n.id},n.name),a.createElement(O.Z,{key:"settings",onClick:d,component:l.rU,to:"/settings"},o("settings")),a.createElement(O.Z,{key:"logout",onClick:function(){s(null),(0,i.kS)().then((function(){return r(null)}))}},o("logout")))):a.createElement(a.Fragment,null,a.createElement(u.Z,{color:"inherit",onClick:d,component:l.rU,to:"/login"},o("login")),a.createElement(u.Z,{color:"inherit",onClick:d,component:l.rU,to:"/register"},o("register")))}var Ue=n(2761),Pe=n(6397),We=(0,g.Z)((function(e){var t;return(0,Se.Z)({root:(t={display:"flex",alignItems:"center",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"#0000000F","&:hover":{backgroundColor:"#0000001F"},marginRight:e.spacing(2),marginLeft:0},t[e.breakpoints.up("sm")]={marginLeft:e.spacing(3),width:"auto"},t)})}));function Ne(){var e=We(),t=(0,f.$)().t;return a.createElement("label",{className:e.root},a.createElement(Ue.Z,{sx:{ml:1}}),a.createElement(Pe.ZP,{placeholder:t("search"),sx:{px:1}}))}var Ae=(0,g.Z)((function(e){var t,n,a;return(0,Se.Z)({root:{},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:(t={display:"none"},t[e.breakpoints.up("sm")]={display:"block"},t),sectionDesktop:(n={display:"none"},n[e.breakpoints.up("md")]={display:"flex"},n),sectionMobile:(a={display:"flex"},a[e.breakpoints.up("md")]={display:"none"},a)})}));function Te(e){var t=Ae(),n=(0,f.$)(),r=n.t;n.i18n;return a.createElement(ke.Z,{className:t.root,position:"sticky",color:"default"},a.createElement(Ce.Z,{variant:"dense"},a.createElement(Y.Z,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer"},a.createElement(ye.Z,null)),a.createElement(p.Z,{color:"inherit",component:l.rU,to:"/",className:t.title,variant:"h6",noWrap:!0},a.createElement(_,{data:window.university,attr:"name"})),a.createElement(Ne,null),a.createElement("div",{className:t.sectionDesktop},a.createElement(u.Z,{color:"inherit",component:l.rU,to:"/"},r("home"))),a.createElement("div",{className:t.grow}),a.createElement("div",{className:t.sectionDesktop},a.createElement(R,null),a.createElement(we.Z,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),a.createElement(Ie,null)),a.createElement("div",{className:t.sectionMobile},a.createElement(Y.Z,{color:"inherit"},a.createElement(xe.Z,null)))))}function je(e){var t=e.children;return a.createElement(a.Suspense,{fallback:"Loaidng..."},a.createElement(i.Ho,null,a.createElement(ge.Z,{theme:he.Z},a.createElement(Ee.ZP,null),a.createElement(fe.Z,{display:"flex",flexDirection:"column",minHeight:"100vh"},a.createElement(Te,null),a.createElement(fe.Z,{flex:1},t),a.createElement(be,null)))))}var Fe=n(1023);function Oe(){var e=(0,f.$)().t;return a.createElement("div",null,a.createElement(b.Z,{maxWidth:"sm"},a.createElement("div",null,a.createElement(I.Z,{variant:"h1"},"Not Found"),a.createElement(u.Z,{variant:"contained",color:"primary",component:l.rU,to:"/",startIcon:a.createElement(Fe.Z,null)},e("back-home")))))}var ze=n(6531),Re=function(){return Re=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Re.apply(this,arguments)},_e=(0,g.Z)((function(e){return(0,Se.Z)({root:{paddingTop:e.spacing(6)}})}));function Be(){var e,t=_e(),n=(0,i.aC)(),r=n.user,l=n.setUser,o=(0,f.$)().t;return a.createElement(b.Z,{className:t.root,maxWidth:"sm"},a.createElement(I.Z,{variant:"h1",sx:{mt:5}},o("settings")),a.createElement(I.Z,{variant:"h2"},"Avatar"),a.createElement(ze.F,{image:null===(e=null==r?void 0:r.avatar)||void 0===e?void 0:e.url,onChange:function(e){e&&r&&(0,ze.I)(e,300,300,!0).then((function(e){var t=e.data,n=Re(Re({},r),{avatar:t,avatar_id:t.id});(0,i.Nq)(n),l(n)}))}}),a.createElement(I.Z,{variant:"h2"},"User Information"))}function Le(){return a.createElement(l.VK,null,a.createElement(je,null,a.createElement(o.Z5,null,a.createElement(o.AW,{path:"/",element:a.createElement(i.Yg,null,a.createElement(D,null))}),a.createElement(o.AW,{path:"/login",element:a.createElement(k,null)}),a.createElement(o.AW,{path:"/register",element:a.createElement(C,null)}),a.createElement(o.AW,{path:"/email/verify",element:a.createElement(i.Yg,null,a.createElement(U,null))}),a.createElement(o.AW,{path:"/settings",element:a.createElement(i.Yg,null,a.createElement(Be,null))}),a.createElement(o.AW,{path:"/laboratories/:laboratoryId",element:a.createElement(ie,null)},a.createElement(o.AW,{path:"",element:a.createElement(pe,null)}),a.createElement(o.AW,{path:"members",element:a.createElement(ae,null)}),a.createElement(o.AW,{path:"settings",element:a.createElement(ve,null)})),a.createElement(o.AW,{path:"*",element:a.createElement(Oe,null)}))))}var De=n(3584),$e=n(4093),qe=n(8718);N().defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Me=localStorage.getItem("language")||(navigator.language.startsWith("zh")?"zh":"en");N().defaults.headers.common["X-Language"]=Me,De.ZP.use($e.Z).use(qe.Db).init({ns:["common"],lng:Me,supportedLngs:["en","zh"],interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}}),window.i18n=De.ZP;var He=document.getElementById("app-root");He&&r.render(a.createElement(Le,null),He)},8369:(e,t,n)=>{n.d(t,{H:()=>l,a:()=>o});var a=n(7294),r=(0,a.createContext)({user:null,setUser:function(e){}});function l(e){var t=e.children,n=(0,a.useState)(window.user),l=n[0],o=n[1];return(0,a.useEffect)((function(){window.user=l}),[l]),a.createElement(r.Provider,{value:{user:l,setUser:o}},t)}function o(){return(0,a.useContext)(r)}},1983:(e,t,n)=>{n.d(t,{Ho:()=>a.H,Yg:()=>d,BT:()=>o,x4:()=>i,kS:()=>c,z2:()=>u,WC:()=>p,Nq:()=>v,aC:()=>a.a});var a=n(8369),r=n(9669),l=n.n(r);function o(){return l().get("/api/user")}function i(e,t,n){return l().post("/login",{email:e,password:t,remember:n})}function c(){return l().post("/logout")}function u(e,t,n,a,r){return l().post("/register",{name:e,email:t,password:n,password_confirmation:a,type:r})}var m=n(7294),s=n(6974);function d(e){var t=e.children,n=(0,a.a)(),r=(0,s.TH)();return n.user?t:m.createElement(s.Fg,{to:"/login",state:{from:r}})}function p(){return l().post("/email/resend")}function v(e){return l().put("/api/user",e)}},6531:(e,t,n)=>{n.d(t,{F:()=>v,I:()=>f});var a=n(4734),r=n(336),l=n(6242),o=n(9974),i=n(3965),c=n(3946),u=n(5861),m=n(3626),s=n(3327),d=n(7294);var p=(0,m.Z)((function(e){return(0,s.Z)({root:{position:"relative",width:200,height:200,marginTop:e.spacing(2)},actionArea:{width:"100%",height:"100%"},image:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"},placeholder:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},placeholderIcon:{fontSize:e.spacing(5)},removeButton:{position:"absolute",right:e.spacing(.5),top:e.spacing(.5),background:e.palette.background.paper+" !important"}})}));function v(e){var t=e.image,n=e.disabled,m=e.onChange,s=e.onRemove,v=p(),E=(0,d.useRef)(null),g=(0,d.useState)(null),f=g[0],h=g[1];return d.createElement(l.Z,{className:v.root,variant:"outlined"},d.createElement(o.Z,{className:v.actionArea,onClick:function(){var e;null===(e=E.current)||void 0===e||e.click()}},f||t?d.createElement(i.Z,{className:v.image,component:"img",image:f||t}):d.createElement("div",{className:v.placeholder},d.createElement(a.Z,{className:v.placeholderIcon}),d.createElement(u.Z,null,"Upload Image"))),d.createElement("input",{ref:E,type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t,n=e.target;if(n.files&&n.files[0]){var a=n.files[0];(t=a,new Promise((function(e,n){var a=new FileReader;a.onload=function(t){var n;e(null===(n=t.target)||void 0===n?void 0:n.result)},a.readAsDataURL(t)}))).then((function(e){m&&m(a,e),h(e)}))}},disabled:n}),f&&d.createElement(c.Z,{className:v.removeButton,size:"small",onClick:function(){s&&s(),E.current&&(E.current.value=""),h(null)}},d.createElement(r.Z,null)))}var E=n(9669),g=n.n(E);function f(e,t,n,a){var r=new FormData;return r.append("image",e),t&&t>=0&&n&&n>=0&&(r.append("width",t.toString()),r.append("height",n.toString()),a&&r.append("cropped","1")),g().post("/api/images",r)}},2272:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(4745),r=n(4128);const l=(0,n(9404).Z)({palette:{primary:a.Z,secondary:r.Z},components:{MuiButton:{styleOverrides:{root:{fontSize:"1rem"}}},MuiToggleButton:{styleOverrides:{root:{fontSize:"1rem"}}}}})}},e=>{e.O(0,[898],(()=>{return t=4034,e(e.s=t);var t}));e.O()}]);